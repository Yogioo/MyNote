<html>
<head>
  <title>内置着色器 helper 函数</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1113"/>
<h1>内置着色器 helper 函数</h1>

<div>
<span><div><h1 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(27, 34, 41); overflow-wrap: break-word; font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(27, 34, 41); overflow-wrap: break-word; font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">内置着色器 helper 函数</font></span></h1><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">Unity 具有许多内置实用函数，旨在使编写着色器更简单，更轻松。</font></span></div><h3 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1.2em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1.2em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中声明的函数</font></span></h3><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">请参阅</span><a href="file:///SL-BuiltinIncludes.html" style="max-width: 100%; color: rgb(184, 60, 130); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; outline: none; cursor: pointer; text-decoration: underline;">内置着色器 include 文件</a><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">来大致了解 Unity 随附的着色器 include 文件。</span></font></div><h4 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中的顶点变换函数</font></span></h4><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 427px;"></col><col style="width: 1323px;"></col></colgroup><tbody><tr><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 427px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">功能：</font></span></div></td><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 1323px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">描述：</font></span></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 427px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float4 UnityObjectToClipPos(float3 pos)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 1323px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将对象空间中的点变换到齐次坐标中的摄像机裁剪空间。这等效于 <span style="font-weight: bold;">mul(UNITY_MATRIX_MVP, float4(pos, 1.0))</span>，应该在适当的位置使用。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 427px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 UnityObjectToViewPos(float3 pos)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 1323px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将对象空间中的点变换到视图空间。这等效于 __mul(UNITY_MATRIX_MV, float4(pos, 1.0)).xyz__，应该在适当的位置使用。</font></div></td></tr></tbody></table><h4 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中的通用 helper 函数</font></span></h4><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 503px;"></col><col style="width: 799px;"></col></colgroup><tbody><tr><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 503px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">功能：</font></span></div></td><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 799px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">描述：</font></span></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 WorldSpaceViewDir (float4 v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">返回从给定对象空间顶点位置朝向摄像机的世界空间方向（未标准化）。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 ObjSpaceViewDir (float4 v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">返回从给定对象空间顶点位置朝向摄像机的对象空间方向（未标准化）。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float2 ParallaxOffset (half h, half height, half3 viewDir)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">计算视差法线贴图的 UV 偏移。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">fixed Luminance (fixed3 c)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将颜色转换为亮度（灰阶）。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">fixed3 DecodeLightmap (fixed4 color)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">从 Unity 光照贴图（RGBM 或 dLDR，具体取决于平台）解码颜色。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float4 EncodeFloatRGBA (float v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将 [0..1) 范围浮点数编码为 RGBA 颜色，用于存储在低精度渲染目标中。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float DecodeFloatRGBA (float4 enc)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将 RGBA 颜色解码为浮点数。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float2 EncodeFloatRG (float v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将 [0..1) 范围浮点数编码为 float2。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float DecodeFloatRG (float2 enc)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">解码先前编码的 RG 浮点数。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float2 EncodeViewNormalStereo (float3 n)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">将视图空间法线编码为 0 到 1 范围内的两个数字。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 503px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 DecodeViewNormalStereo (float4 enc4)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 799px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">从 enc4.xy 解码视图空间法线。</font></div></td></tr></tbody></table><h4 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中的前向渲染 helper 函数</font></span></h4><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">仅当使用前向渲染（ForwardBase 或 ForwardAdd 通道类型）时，这些函数才有用。</font></span></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 463px;"></col><col style="width: 899px;"></col></colgroup><tbody><tr><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 463px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">功能：</font></span></div></td><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 899px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">描述：</font></span></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 463px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 WorldSpaceLightDir (float4 v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 899px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">根据给定的对象空间顶点位置计算朝向光源的世界空间方向（未标准化）。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 463px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 ObjSpaceLightDir (float4 v)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 899px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">根据给定对象空间顶点位置计算朝向光源的对象空间方向（未标准化）。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 463px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 Shade4PointLights (...)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 899px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">计算四个点光源的光照，将光源数据紧密打包到矢量中。前向渲染使用它来计算每顶点光照。</font></div></td></tr></tbody></table><h4 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中的屏幕空间 helper 函数</font></span></h4><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">以下 helper 函数可计算用于采样屏幕空间纹理的坐标。它们返回</span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(240, 240, 240);">float4</span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">，其中用于纹理采样的最终坐标可以通过透视除法（例如</span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(240, 240, 240);">xy/w</span><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">）计算得出。</span></font></div><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">这些函数还处理渲染纹理坐标中的</span><a href="file:///SL-PlatformDifferences.html" style="max-width: 100%; color: rgb(184, 60, 130); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; outline: none; cursor: pointer; text-decoration: underline;">平台差异</a><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">。</span></font></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 510px;"></col><col style="width: 830px;"></col></colgroup><tbody><tr><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 510px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">功能：</font></span></div></td><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 830px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">描述：</font></span></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 510px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float4 ComputeScreenPos (float4 clipPos)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 830px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">计算用于执行屏幕空间贴图纹理采样的纹理坐标。输入是裁剪空间位置。</font></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 510px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float4 ComputeGrabScreenPos (float4 clipPos)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 830px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">计算用于 <a href="file:///SL-GrabPass.html" style="color: rgb(184, 60, 130); outline: none; cursor: pointer; text-decoration: underline;">GrabPass</a> 纹理采样的纹理坐标。输入是裁剪空间位置。</font></div></td></tr></tbody></table><h4 style="margin: 0px 0px 10px; padding: 0px; font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; line-height: 1em; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">UnityCG.cginc 中的顶点光照 helper 函数</font></span></h4><div style="margin: 0px 0px 15px; padding: 0px; max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="max-width: 100%; color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 16pt;">仅当使用每顶点光照着色器（“Vertex”通道类型）时，这些函数才有用。</font></span></div><div><font style="font-size: 16pt;"><br/></font></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 607px;"></col><col style="width: 808px;"></col></colgroup><tbody><tr><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 607px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">功能：</font></span></div></td><td style="font-weight: normal; font-style: normal; text-align: left; background-color: rgb(240, 240, 240); width: 808px; padding: 8px; border: 1px solid;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-weight: bold;"><font style="font-size: 16pt;">描述：</font></span></div></td></tr><tr><td style="vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 607px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="background: rgb(240, 240, 240);"><font style="font-size: 16pt;">float3 ShadeVertexLights (float4 vertex, float3 normal)</font></span></div></td><td style="word-break: break-all; vertical-align: top; text-align: left; border: 1px solid rgb(230, 230, 230); width: 808px; padding: 8px;"><div style="color: rgb(69, 84, 99); font-family: &quot;Open Sans&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><font style="font-size: 16pt;">根据给定的对象空间位置和法线计算四个每顶点光源和环境光的光照。</font></div></td></tr></tbody></table><div><br/></div></div></span>
</div></body></html> 